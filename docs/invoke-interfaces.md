# invoke の定義書

- [[domain] Search](#Search)
  - findFile ... ファイルを検索する
- [[domain] Folder](#Folder)
  - createFolder ... フォルダを作成する
  - deleteFolder ... フォルダを削除する
  - updateFolder ... フォルダを更新する
  - getMemoList ... フォルダ内のメモ一覧取得
- [[domain] Memo](#Memo)
  - getMemo ... メモを取得する
  - createMemo ... メモを作成する
  - deleteMemo ... メモを削除する
  - updateMemo ... メモを更新する
- [[domain] tags](#tags)
  - getTags ... タグ一覧取得
  - createTag ... タグを作成する
  - deleteTag ... タグを削除する
- [[domain] config](#config)
  - getConfig ... 設定を取得する
  - updateConfig ... 設定を更新する
- [[domain] Schema](#Schema)
  - FileInfo ... ファイル情報

## Search

<details>

### findFile

#### 説明

ファイルを検索する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                     |
| ------------ | -------- | ------ | ------------------------ |
| query        | String   | はい   | 検索クエリ               |
| tags         | Vec<u64> | いいえ | 検索対象のタグ ID の配列 |

#### 戻り値

| データ名 | データ型      | 説明                       |
| -------- | ------------- | -------------------------- |
| files    | Vec<FileInfo> | 検索結果のファイル情報配列 |

[FileInfo 構造体](#FileInfo)

</details>

## Folder

<details>

### createFolder

#### 説明

新規フォルダを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明       |
| ------------ | -------- | ---- | ---------- |
| name         | String   | はい | フォルダ名 |

#### 戻り値

| データ名 | データ型 | 説明                    |
| -------- | -------- | ----------------------- |
| id       | u64      | 作成されたフォルダの ID |

### deleteFolder

#### 説明

フォルダを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明                  |
| ------------ | -------- | ---- | --------------------- |
| folderId     | u64      | はい | 削除するフォルダの ID |

#### 戻り値

なし

### updateFolder

#### 説明

フォルダ情報を更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                  |
| ------------ | -------- | ------ | --------------------- |
| folderId     | u64      | はい   | 更新するフォルダの ID |
| name         | String   | いいえ | 新しいフォルダ名      |

#### 戻り値

なし

### getMemoList

#### 説明

フォルダ内のメモ一覧を取得する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明          |
| ------------ | -------- | ---- | ------------- |
| folderId     | u64      | はい | フォルダの ID |

#### 戻り値

| データ名 | データ型      | 説明           |
| -------- | ------------- | -------------- |
| memos    | Vec<MemoInfo> | メモ情報の配列 |

[MemoInfo 構造体](#MemoInfo)

</details>

## Memo

<details>

### getMemo

#### 説明

メモを取得する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明      |
| ------------ | -------- | ---- | --------- |
| memoId       | u64      | はい | メモの ID |

#### 戻り値

| データ名   | データ型     | 説明                       |
| ---------- | ------------ | -------------------------- |
| id         | u64          | メモ ID                    |
| title      | String       | メモのタイトル             |
| content    | String       | メモの Markdown コンテンツ |
| created_at | String       | 作成日時                   |
| updated_at | String       | 最終更新日時               |
| tags       | Vec<TagInfo> | タグ情報の配列             |

[TagInfo 構造体](#TagInfo)

### createMemo

#### 説明

新規メモを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                       |
| ------------ | -------- | ------ | -------------------------- |
| title        | String   | はい   | メモのタイトル             |
| content      | String   | はい   | メモの Markdown コンテンツ |
| tags         | Vec<u64> | いいえ | 付与するタグ ID の配列     |

#### 戻り値

| データ名 | データ型 | 説明                |
| -------- | -------- | ------------------- |
| id       | u64      | 作成されたメモの ID |

### deleteMemo

#### 説明

メモを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明              |
| ------------ | -------- | ---- | ----------------- |
| memoId       | u64      | はい | 削除するメモの ID |

#### 戻り値

なし

### updateMemo

#### 説明

既存メモを更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                             |
| ------------ | -------- | ------ | -------------------------------- |
| memoId       | u64      | はい   | 更新するメモの ID                |
| title        | String   | いいえ | 新しいメモのタイトル             |
| content      | String   | いいえ | 新しいメモの Markdown コンテンツ |
| tags         | Vec<u64> | いいえ | 新しく付与するタグ ID の配列     |

#### 戻り値

なし

</details>

## [domain] tags

<details>

### getTags

#### 説明

全タグ一覧を取得する Invoke コマンド

#### パラメータ

なし

#### 戻り値

| データ名 | データ型     | 説明           |
| -------- | ------------ | -------------- |
| tags     | Vec<TagInfo> | タグ情報の配列 |

[TagInfo 構造体](#TagInfo)

### createTag

#### 説明

新規タグを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明   |
| ------------ | -------- | ---- | ------ |
| name         | String   | はい | タグ名 |

#### 戻り値

| データ名 | データ型 | 説明                |
| -------- | -------- | ------------------- |
| id       | u64      | 作成されたタグの ID |

### deleteTag

#### 説明

タグを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明              |
| ------------ | -------- | ---- | ----------------- |
| tagId        | u64      | はい | 削除するタグの ID |

#### 戻り値

なし

</details>

## config

<details>

### getConfig

#### 説明

アプリケーション設定を取得する Invoke コマンド

#### パラメータ

なし

#### 戻り値

| データ名  | データ型 | 説明                         |
| --------- | -------- | ---------------------------- |
| theme     | String   | テーマ設定（"light"/"dark"） |
| font_size | u32      | フォントサイズ               |

### updateConfig

#### 説明

アプリケーション設定を更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                                  |
| ------------ | -------- | ------ | ------------------------------------- |
| theme        | String   | いいえ | テーマ設定（"light"/"dark"/"system"） |
| font_size    | u32      | いいえ | フォントサイズ                        |

#### 戻り値

なし

</details>

## Schema

### FileInfo

| フィールド | データ型 | 説明         |
| ---------- | -------- | ------------ |
| id         | u64      | ファイル ID  |
| title      | String   | ファイル名   |
| folder_id  | u64      | フォルダ ID  |
| updated_at | String   | 最終更新日時 |

### TagInfo

| フィールド | データ型 | 説明    |
| ---------- | -------- | ------- |
| id         | u64      | タグ ID |
| name       | String   | タグ名  |

### MemoInfo

| フィールド | データ型 | 説明           |
| ---------- | -------- | -------------- |
| id         | u64      | メモ ID        |
| title      | String   | メモのタイトル |
| updated_at | String   | 最終更新日時   |

## その他

<details>
  <summary>テンプレート</summary>

## 関数名

### 説明

関数の詳細

### パラメータ

| パラメータ名 | データ型 | 必須 | 説明 |
| ------------ | -------- | ---- | ---- |
|              |          |      |      |

### 戻り値

| データ名 | データ型 | 説明 |
| -------- | -------- | ---- |
|          |          |      |

</details>
