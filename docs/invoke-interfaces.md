# invoke の定義書

- [[domain] Search](#Search)
  - find_memo ... メモを検索する
- [[domain] Folder](#Folder)
  - get_folders ... フォルダ一覧取得
  - create_folder ... フォルダを作成する
  - delete_folder ... フォルダを削除する
  - update_folder ... フォルダを更新する
- [[domain] Memo](#Memo)
  - get_memo_list ... フォルダ内のメモ一覧取得
  - get_memo ... メモを取得する
  - create_memo ... メモを作成する
  - delete_memo ... メモを削除する
  - update_memo ... メモを更新する
- [[domain] tags](#tags)
  - get_tags ... タグ一覧取得
  - create_tag ... タグを作成する
  - delete_tag ... タグを削除する
- [[domain] config](#config)
  - get_config ... 設定を取得する
  - update_config ... 設定を更新する
- [[domain] Schema](#Schema)
  - DetailMemoInfo ... メモ詳細情報
  - FolderInfo ... フォルダ情報
  - TagInfo ... タグ情報
  - MemoInfo ... メモ情報

## Search

<details>

### find_memo

#### 説明

メモを検索する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型   | 必須   | 説明                     |
| ------------ | ---------- | ------ | ------------------------ |
| memo_title   | String     | はい   | メモタイトル             |
| tags         | `Vec<i64>` | いいえ | 検索対象のタグ ID の配列 |

#### 戻り値

| データ名 | データ型              | 説明                   |
| -------- | --------------------- | ---------------------- |
| files    | `Vec<DetailMemoInfo>` | 検索結果のメモ情報配列 |

[DetailMemoInfo 構造体](#DetailMemoInfo)

</details>

## Folder

<details>

### get_folders

#### 説明

フォルダ一覧取得

#### パラメータ

なし

#### 戻り値

| データ名 | データ型          | 説明               |
| -------- | ----------------- | ------------------ |
| folders  | `Vec<FolderInfo>` | フォルダ情報の配列 |

[FolderInfo 構造体](#FolderInfo)

### create_folder

#### 説明

新規フォルダを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明       |
| ------------ | -------- | ---- | ---------- |
| name         | String   | はい | フォルダ名 |

#### 戻り値

| データ名 | データ型 | 説明                    |
| -------- | -------- | ----------------------- |
| id       | i64      | 作成されたフォルダの ID |

### delete_folder

#### 説明

フォルダを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明                  |
| ------------ | -------- | ---- | --------------------- |
| folder_id    | i64      | はい | 削除するフォルダの ID |

#### 戻り値

なし

### update_folder

#### 説明

フォルダ情報を更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                  |
| ------------ | -------- | ------ | --------------------- |
| folder_id    | i64      | はい   | 更新するフォルダの ID |
| name         | String   | いいえ | 新しいフォルダ名      |

#### 戻り値

なし

</details>

## Memo

<details>

### get_memo_list

#### 説明

フォルダ内のメモ一覧を取得する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明          |
| ------------ | -------- | ---- | ------------- |
| folder_id    | i64      | はい | フォルダの ID |

#### 戻り値

| データ名 | データ型        | 説明           |
| -------- | --------------- | -------------- |
| memos    | `Vec<MemoInfo>` | メモ情報の配列 |

[MemoInfo 構造体](#MemoInfo)

### get_detail_memo

#### 説明

メモの詳細を取得する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明      |
| ------------ | -------- | ---- | --------- |
| memo_id      | i64      | はい | メモの ID |

#### 戻り値

| データ名   | データ型       | 説明                       |
| ---------- | -------------- | -------------------------- |
| id         | i64            | メモ ID                    |
| title      | String         | メモのタイトル             |
| content    | String         | メモの Markdown コンテンツ |
| created_at | String         | 作成日時                   |
| updated_at | String         | 最終更新日時               |
| tags       | `Vec<TagInfo>` | タグ情報の配列             |

[TagInfo 構造体](#TagInfo)

### create_memo

#### 説明

新規メモを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型   | 必須   | 説明                       |
| ------------ | ---------- | ------ | -------------------------- |
| title        | String     | はい   | メモのタイトル             |
| content      | String     | はい   | メモの Markdown コンテンツ |
| tags         | `Vec<i64>` | いいえ | 付与するタグ ID の配列     |

#### 戻り値

| データ名 | データ型 | 説明                |
| -------- | -------- | ------------------- |
| id       | i64      | 作成されたメモの ID |

### delete_memo

#### 説明

メモを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明              |
| ------------ | -------- | ---- | ----------------- |
| memo_id      | i64      | はい | 削除するメモの ID |

#### 戻り値

なし

### update_memo

#### 説明

既存メモを更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型   | 必須   | 説明                             |
| ------------ | ---------- | ------ | -------------------------------- |
| memo_id      | i64        | はい   | 更新するメモの ID                |
| title        | String     | いいえ | 新しいメモのタイトル             |
| content      | String     | いいえ | 新しいメモの Markdown コンテンツ |
| tags         | `Vec<i64>` | いいえ | 新しく付与するタグ ID の配列     |

#### 戻り値

なし

</details>

## [domain] tags

<details>

### get_tags

#### 説明

全タグ一覧を取得する Invoke コマンド

#### パラメータ

なし

#### 戻り値

| データ名 | データ型       | 説明           |
| -------- | -------------- | -------------- |
| tags     | `Vec<TagInfo>` | タグ情報の配列 |

[TagInfo 構造体](#TagInfo)

### create_tag

#### 説明

新規タグを作成する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明   |
| ------------ | -------- | ---- | ------ |
| name         | String   | はい | タグ名 |

#### 戻り値

| データ名 | データ型 | 説明                |
| -------- | -------- | ------------------- |
| id       | i64      | 作成されたタグの ID |

### delete_tag

#### 説明

タグを削除する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須 | 説明              |
| ------------ | -------- | ---- | ----------------- |
| tag_id       | i64      | はい | 削除するタグの ID |

#### 戻り値

なし

</details>

## config

<details>

### get_config

#### 説明

アプリケーション設定を取得する Invoke コマンド

#### パラメータ

なし

#### 戻り値

| データ名  | データ型 | 説明                                  |
| --------- | -------- | ------------------------------------- |
| theme     | String   | テーマ設定（"light"/"dark"/"system"） |
| font_size | u32      | フォントサイズ                        |

### update_config

#### 説明

アプリケーション設定を更新する Invoke コマンド

#### パラメータ

| パラメータ名 | データ型 | 必須   | 説明                                  |
| ------------ | -------- | ------ | ------------------------------------- |
| theme        | String   | いいえ | テーマ設定（"light"/"dark"/"system"） |
| font_size    | u32      | いいえ | フォントサイズ                        |

#### 戻り値

なし

</details>

## Schema

### FolderInfo

| フィールド | データ型 | 説明         |
| ---------- | -------- | ------------ |
| id         | i64      | フォルダ ID  |
| name       | String   | フォルダ名   |
| updated_at | String   | 最終更新日時 |

### DetailMemoInfo

| フィールド | データ型 | 説明         |
| ---------- | -------- | ------------ |
| id         | i64      | ファイル ID  |
| title      | String   | ファイル名   |
| folder_id  | i64      | フォルダ ID  |
| updated_at | String   | 最終更新日時 |

### TagInfo

| フィールド | データ型 | 説明    |
| ---------- | -------- | ------- |
| id         | i64      | タグ ID |
| name       | String   | タグ名  |

### MemoInfo

| フィールド | データ型 | 説明           |
| ---------- | -------- | -------------- |
| id         | i64      | メモ ID        |
| title      | String   | メモのタイトル |
| updated_at | String   | 最終更新日時   |

## その他

<details>
  <summary>テンプレート</summary>

## 関数名

### 説明

関数の詳細

### パラメータ

| パラメータ名 | データ型 | 必須 | 説明 |
| ------------ | -------- | ---- | ---- |
|              |          |      |      |

### 戻り値

| データ名 | データ型 | 説明 |
| -------- | -------- | ---- |
|          |          |      |

</details>
